---
description: Короткая статья о том, как создать приложение для вашего бота Discord.
keywords: [disnake, bot, guide, tutorial, create, application, python]
---

# Создание вашего приложения

Шаги, упомянутые далее в этой статье, по сути, являются копией шагов
[упомянутых в документации](https://docs.disnake.dev/en/latest/discord.html). Таким образом, вы можете выполнить эти
действия из любого ресурса.

:::note Примечание

Если вы уже создали своё приложение для бота, вы можете пропустить эту статью и перейти к
[`начальным файлам`](../getting-started/initial-files.mdx).

:::

## Создание аккаунта бота

Чтобы работать с библиотекой и Discord API в целом, мы должны сначала создать аккаунт бота в Discord.

Создание аккаунта бота - довольно простой процесс.

1. Убедитесь, что вы авторизованы в [Discord](https://www.discord.com).

2. Перейдите на [страницу приложений](https://discord.com/developers/applications).

3. Нажмите на кнопку `New Application`.

    <!-- prettier-ignore -->
    <br />
    <p align = "center">
        <img src={require("./images/new-application.png").default} alt="New Application button" width="40%"/>
    </p>
    <br />

4. Дайте приложению имя и нажмите `Create`.

    <!-- prettier-ignore -->
    <br />
    <p align = "center">
        <img src={require("./images/application-name.png").default} alt="Create Application modal" width="60%"/>
    </p>
    <br />

5. Создайте аккаунт бота, перейдя на вкладку `Bot` и нажав `Add Bot`.

    - Нажмите `Yes, do it!` для продолжения.

    <!-- prettier-ignore -->
    <br />
    <p align = "center">
        <img src={require("./images/build-a-bot.png").default} alt="Build-A-Bot" width="75%"/>
    </p>
    <br />

6. Убедитесь, что установлен флажок `Public Bot`, если вы хотите, чтобы другие люди могли пригласить вашего бота.

    - Вы также должны убедиться, что флажок `Require OAuth2 Code Grant` снят, если только вы не разрабатываете службу,
      которая в этом нуждается. Если вы не уверены, то **оставьте его снятым**.

    <!-- prettier-ignore -->
    <br />
    <p align = "center">
        <img src={require("./images/new-bot.png").default} alt="New Bot" width="75%"/>
    </p>
    <br />

7. Скопируйте токен, используя кнопку `Copy`.

    - Это **не** Client Secret на странице общей информации.

И это всё. Теперь у вас есть аккаунт бота, и вы можете войти с помощью этого токена.

## Что касается токена бота

:::danger Предупреждение

Этот раздел важный, поэтому обратите на него пристальное внимание. В нём объясняется, что токен вашего бота, а так же его
аспекты безопасности.

:::

### Что такое токен?

Следует отметить, что токен **по сути, является паролем вашего бота**. Вы **никогда** не должны делиться им с кем-то
другим. При этом кто-то может войти в вашего бота и совершать вредоносные действия, например, покидать сервера, банить
всех участников на серверах или намеренно упоминать всех.

Токены выглядят следующим образом: `OTA4MjgxMjk4NTU1MTA5Mzk2.YYzc4A.TB7Ng6DOnVDlpMS4idjGptsreFg` (не беспокойтесь, мы
сбросили этот токен!) Если он будет немного короче и больше похож на этот: `CR8UbizwLgyES9LuHK7eIrXHbRTuqoEs`,
вместо токена вы скопировали свой Client Secret. Обязательно скопируйте именно токен, если вы хотите, чтобы ваш бот работал!

### Сценарий утечки токена

Давайте представим, что у вас есть бот, находящийся на более чем 1000 серверах, и потребовалось много-много месяцев
написания и терпения, чтобы получить его на этом количестве серверов. Ваш токен куда-то утёк, и теперь он у кого-то
другого. Этот человек может:

-   Спамить на каждом сервере, на которых находится ваш бот;
-   Рассылать спам в личные сообщения большому количеству пользователей;
-   Удалять большое количество каналов;
-   Выгонять или банить большое количество участников на серверах;
-   Заставить вашего бота покинуть все сервера, к которым он присоединился;
-   Доступ и повреждение вашего сервера.

Всё это и многое, многое другое. Звучит довольно ужасно, не так ли? Поэтому убедитесь, что ваш токен находится в
максимальной безопасности! На странице [начальных файлов](../getting-started/initial-files.mdx) мы рассмотрим, как
безопасно хранить ваш токен в файле конфигурации.

:::caution Осторожно

Если вы случайно "слили" свой токен, нажмите на кнопку `Regenerate` как можно скорее. Это сотрёт ваш старый токен и
создаст новый. Теперь вам нужно использовать новый токен для входа.

:::

### Системные сообщения Discord

Системные сообщения - это официальные сообщения, которые Discord отправляет, чтобы предупредить вас о проблеме с
вашим аккаунтом. Эти сообщения могут варьироваться от различных проблем с оплатой, обновлений обращений в службу
поддержки и предупреждений о нарушении ToS. Вы также можете ожидать системного сообщения, если ваш токен бота был
опубликован в интернете публично и был найден Discord.

**Такое сообщение будет выглядеть следующим образом:**

<br />
<p align="center">
	<img src={require('./images/system-message.png').default} alt="System message" width="90%" />
</p>
<br />

:::caution Осторожно

Поскольку мы не знаем, в какой степени Discord ищет токены бота или сколько времени требуется для информирования
пользователя о том, где был найден бот, мы рекомендуем не полностью полагаться на эту функцию. Но в случае, если ваш
токен бота будет найден в интернете публично (скажем, в [репозитории GitHub](https://www.github.com/)), вы можете
ожидать, что Discord отправит системное сообщение на аккаунт, к которой привязан бот.

:::

Обратите внимание, что Discord никогда не будет запрашивать ваш пароль или токен учётной записи, а системное сообщение
никогда не будет запрашивать то же самое. Системные сообщения из Discord будут иметь проверенный тег `СИСТЕМА`, а в
строке внизу личных сообщений будет сказано - "В данной ветке отображаются уведомления Discord".

<br />
<p align="center">
	<img src={require('./images/system-dm.png').default} alt="System DM" width="50%" />
</p>
<br />

Вы можете прочитать больше о подлинности этих сообщений [в этой статье][discord-sys-msg-page].

[discord-sys-msg-page]: https://support.discord.com/hc/en-us/articles/360036118732-Discord-System-Messages

## Приглашение вашего бота

Итак, вы создали учётную запись бота, но на самом деле его нет ни на одном сервере. Если вы хотите пригласить своего
бота, вы должны создать для него приглашение.

1.  Убедитесь, что вы авторизованы в [Discord][discord-page].

2.  Перейдите на [страницу приложений][discord-app-page].

3.  Нажмите на страницу вашего бота.

4.  Перейдите на вкладку `OAuth2`.

    <!-- prettier-ignore -->
    <br />
    <p align = "center">
        <img src={require("./images/oauth-page.png").default} alt="OAuth2 Page" width="100%"/>
    </p>
    <br />

5.  Поставьте галочку возле `bot` в поле `scopes`.

    <!-- prettier-ignore -->
    <br />
    <p align = "center">
        <img src={require("./images/oauth-scopes.png").default} alt="OAuth2 Scope" width="100%"/>
    </p>
    <br />

    -   Если вы хотите использовать слеш-команды и другие взаимодействия в вашем боте, обязательно поставьте галочку
        возле `applications.commands` в поле `scopes`.

    <!-- prettier-ignore -->
    <br />
    <p align = "center">
        <img src={require("./images/oauth-application-commands.png").default} alt="OAuth2 Application Commands" width="100%"/>
    </p>
    <br />

6.  Отметьте права, необходимые для работы вашего бота в поле `Bot Permissions`.

    -   Пожалуйста, помните про последствия требования прав `Administrator` (Администратор).

    -   Владельцы ботов должны иметь включённый 2FA для определённых действий и прав при добавлении на сервера, на
        которых включён общесерверный 2FA. Прочтите [страницу поддержки по 2FA][discord-2fa-page] для дополнительной
        информации.

    <!-- prettier-ignore -->
    <br />
    <p align = "center">
        <img src={require("./images/oauth-permissions.png").default} alt="OAuth2 Permissions" width="100%"/>
    </p>
    <br />

7.  Теперь полученное приглашение можно использовать для добавления вашего бота на сервер. Скопируйте и вставьте его в
    свой браузер, выберите сервер, на который вы хотите пригласить бота и нажмите `Авторизовать`

    :::info Информация

    Для этого человеку, добавляющему бота, необходимо право "Управление сервером".

    :::

Если вы хотите сгенерировать динамическое приглашение во время выполнения команды, используйте
интерфейс <DocsLink reference="disnake.Permissions" /> и <DocsLink reference="disnake.utils.oauth_url" />.

[discord-page]: https://www.discord.com
[discord-app-page]: https://discord.com/developers/applications
[discord-2fa-page]: https://support.discord.com/hc/en-us/articles/219576828-Setting-up-Two-Factor-Authentication
